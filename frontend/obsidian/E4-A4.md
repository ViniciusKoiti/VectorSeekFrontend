---
id: E4-A4
epic: "Épico 4 — Dashboard Operacional & Quotas"
status: backlog
tags:
  - frontend
  - angular
  - telemetria
  - obsidian/backlog
dependencies:
  - E4-A1
  - E4-A3
obsidian-link: "[[E4-A4 Instrumentar telemetria operacional]]"
---

# E4-A4 · Instrumentar telemetria operacional

## Descrição técnica
- Integrar `@sentry/angular` ou OpenTelemetry Angular SDK para capturar eventos e métricas do dashboard.
- Criar `TelemetryService` compartilhado em `libs/state/telemetry` com métodos `trackEvent`, `trackView`, `trackError`.
- Instrumentar componentes críticos (`UsageOverview`, `BudgetAlert`, `CostChart`) registrando eventos relevantes.
- Configurar sampling e mascaramento de dados sensíveis antes de envio.
- Adicionar documentação sobre configuração de DSN/endpoint via variáveis de ambiente.

## Dependências
- [[E4-A1 Construir módulo de dashboard operacional]].
- [[E4-A3 Implementar alertas de budget e upgrades]].

## Critérios de aceite
- Telemetria envia eventos nos ambientes configurados respeitando sampling.
- Dados sensíveis (IDs de documento, nomes de usuários) são ofuscados ou omitidos.
- Documentação descreve passos para habilitar/pausar telemetria em diferentes ambientes.

## Checklist sugerido
- [ ] Configurar SDK de telemetria com providers Angular.
- [ ] Criar serviço compartilhado com métodos typed.
- [ ] Instrumentar componentes principais.
- [ ] Implementar mascaramento/sampling configurável.
- [ ] Documentar setup e adicionar testes de integração (mocks).
