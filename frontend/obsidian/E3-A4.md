---
id: E3-A4
epic: "Épico 3 — Geração de Conteúdo & Exportação"
status: backlog
tags:
  - frontend
  - angular
  - exportacao
  - obsidian/backlog
dependencies:
  - E3-A1
obsidian-link: "[[E3-A4 Implementar fluxo de exportação de documentos]]"
---

# E3-A4 · Implementar fluxo de exportação de documentos

## Descrição técnica
- Criar `ExportModule` com componentes `ExportFormComponent` e `ExportStatusComponent` ligados à rota `/app/export`.
- Consumir `/api/export/{fmt}` enviando parâmetros (formato, idioma, workspace) com tratamento de progress via SSE ou polling.
- Lidar com download seguro utilizando `HttpClient` `responseType: 'blob'` e utilitário `FileSaver`.
- Implementar fila de exportação exibindo múltiplas tarefas simultâneas e estado de conclusão.
- Configurar testes de integração simulando respostas `blob` usando `HttpTestingController`.

## Dependências
- [[E3-A1 Implementar wizard de geração textual]].

## Critérios de aceite
- Usuário escolhe formato (PDF/DOCX) e acompanha status até disponibilizar link de download.
- Falhas exibem mensagens detalhadas com opção de retry.
- Download respeita cabeçalhos de segurança (`Content-Disposition`, `Content-Type`).

## Checklist sugerido
- [ ] Criar módulo e componentes de exportação.
- [ ] Integrar serviço com endpoints e SSE/polling.
- [ ] Implementar fila e UI de status.
- [ ] Garantir download seguro com utilitário.
- [ ] Adicionar testes de integração.
