---
id: E3-A2
epic: "Épico 3 — Geração de Conteúdo & Exportação"
status: backlog
tags:
  - frontend
  - angular
  - geracao
  - obsidian/backlog
dependencies:
  - E3-A1
obsidian-link: "[[E3-A2 Monitorar progresso de tarefas de geração]]"
---

# E3-A2 · Monitorar progresso de tarefas de geração

## Descrição técnica
- Criar `GenerationProgressComponent` consumindo `/api/generate/progress/{task_id}` via polling exponencial (RxJS `timer`, `switchMap`).
- Exibir etapas padrão (contexto, renderização, concluído) com porcentagem, ETA e mensagem.
- Tratar 404 como expiração e informar usuário com call-to-action para reiniciar processo.
- Encapsular lógica de polling em serviço reutilizável `TaskProgressService` dentro de `libs/state/generation`.
- Adicionar testes com `jasmine-marbles` para validar sequências de polling e cancelamento.

## Dependências
- [[E3-A1 Implementar wizard de geração textual]].

## Critérios de aceite
- Componente atualiza status em tempo real até conclusão ou erro.
- Usuário pode cancelar polling manualmente (botão "Parar acompanhamento").
- Testes garantem retomada automática após falhas temporárias (status 503).

## Checklist sugerido
- [ ] Criar serviço de polling e componente visual.
- [ ] Implementar tratamento de erros e cancelamento.
- [ ] Exibir etapas com ícones Material.
- [ ] Adicionar testes com marbles para RxJS.
- [ ] Documentar uso em Storybook.
