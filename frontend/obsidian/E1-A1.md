---
id: E1-A1
epic: "Épico 1 — Fundação de Autenticação & Shell da Aplicação"
status: in-progress
tags:
  - frontend
  - angular
  - autenticacao
  - obsidian/in-progress
dependencies: []
obsidian-link: "[[E1-A1 Configurar módulo de autenticação]]"
---

# E1-A1 · Configurar módulo de autenticação

## Descrição técnica
- Estruturar o fluxo de autenticação no projeto Angular CLI (`vectorseek-platform`) adotando componentes standalone e roteamento dedicado.
- Gerar componentes `LoginPageComponent`, `RegisterPageComponent` e `ForgotPasswordComponent` em `src/app/auth/` com `ng g component`.
- Implementar `AuthService` em `src/app/auth/services/auth.service.ts` com métodos `login`, `register`, `requestMagicLink`, `refresh` e `me`, tipados via interfaces compartilhadas.
- Integrar formulários reativos (`ReactiveFormsModule`) com validações em `zod` usando `@colsen1996/ng-zod-form` para garantir sincronia com contratos do backend.
- Preparar mensagens de erro traduzíveis via `@ngx-translate/core` usando namespace `auth`.

## Inventário inicial de ativos reutilizáveis

- **Aplicação Angular CLI (`vectorseek-platform/`)** já contém rotas standalone e layout inicial de autenticação em `src/app/auth`, úteis como referência de UX e navegação.
- **Protótipo de telas** (`vectorseek-platform/src/app/auth/pages/`) oferece estrutura básica de componentes e estilos para evolução incremental.
- **ADR-001** (`frontend/docs/adr/ADR-001-epico1-autenticacao-shell.md`) define a fundação do módulo de autenticação.
- **ADR-002** (`frontend/docs/adr/ADR-002-fluxo-auth-angular-cli.md`) descreve a abordagem em camadas para o fluxo de autenticação no Angular CLI.
- **Scripts de automação** em `frontend/scripts/` auxiliam na marcação de status das atividades e devem ser mantidos como fonte de verdade para a esteira de Obsidian.

Esse inventário evita retrabalho e direciona o esforço para consolidar uma única trilha de documentação — os ADRs — complementada pelas anotações desta atividade.

## Dependências
- Projeto Angular CLI (`vectorseek-platform`) configurado com dependências básicas de autenticação e i18n.

## Critérios de aceite
- Rotas `/auth/login`, `/auth/register` e `/auth/forgot-password` funcionam com navegação standalone.
- Serviços REST retornam tipos fortes e mapeiam respostas de erro (400, 401) para objetos amigáveis.
- Testes unitários com `HttpClientTestingModule` cobrem os métodos principais e validações de formulário.

## Checklist sugerido
- [ ] Gerar rotas e componentes standalone no Angular CLI.
- [ ] Criar serviços e modelos TypeScript na camada de aplicação.
- [ ] Implementar formulários reativos com mensagens traduzíveis.
- [ ] Cobrir serviços com testes unitários.
- [ ] Documentar rotas no Storybook (`docs` tab) para QA.

## Marcos guiados pelos ADR-001 e ADR-002

Manteremos a rastreabilidade exclusivamente através dos ADR-001 e ADR-002, destacando os seguintes marcos correlacionados aos itens do critério de aceite (80%):

1. **Camada de apresentação (`ADR-001 · decisão 1`)** — consolidar rotas standalone em `src/app/auth` com lazy loading.
2. **Camada de aplicação (`ADR-001 · decisão 2` e `ADR-002 · decisão 2`)** — implementar `AuthService` com contratos tipados e testes de integração HTTP.
3. **Camada de experiência (`ADR-001 · decisão 3 e 4`)** — evoluir formulários com Zod e traduções centralizadas.
4. **Camada de qualidade (`ADR-001 · decisão 5` e `ADR-002 · decisão 4`)** — garantir documentação, métricas de cobertura e evidências de QA.

Atualizações de andamento e eventuais adaptações serão refletidas diretamente nos ADR-001 e ADR-002; este documento serve como ponte operacional enquanto migramos o histórico legado de múltiplos MD.

## Próximos passos imediatos

1. Validar dependências do Angular CLI (`vectorseek-platform`) e garantir que `@ngx-translate/core` e `@colsen1996/ng-zod-form` estejam configurados.
2. Consolidar o design system diretamente nos componentes de `src/app/auth`, evitando divergências entre camadas.
3. Atualizar os ADR-001 e ADR-002 com riscos conhecidos (p. ex. autenticação externa) e registrar decisões temporárias na seção de Consequências.
4. Preparar o roteiro de execução incremental seguindo os marcos acima e comunicar ao time a mudança definitiva para o Angular CLI como base de desenvolvimento.

## Prompt sugerido para iniciar o desenvolvimento

> "Você é responsável por iniciar a entrega da atividade `E1-A1` do Épico 1 (fundação de autenticação). Leia os ADR-001 e ADR-002 e as notas das sub-atividades E1-A1-1 até E1-A1-4. Valide dependências do Angular CLI, prepare plano incremental cobrindo rotas standalone, serviços de autenticação, formulários com Zod + i18n e documentação/QA. Explique riscos conhecidos e primeiras tarefas executáveis. Depois confirme se devo marcar E1-A1-1 como `in-progress` com `./frontend/scripts/start_activity.py E1-A1-1`."
