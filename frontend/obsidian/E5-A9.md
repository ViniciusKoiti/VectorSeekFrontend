---
id: E5-A9
epic: "Épico 5 — Chat Conversacional & Experiências Multimodais"
status: backlog
tags:
  - frontend
  - angular
  - chat
  - telemetria
  - obsidian/backlog
dependencies:
  - E5-A2
  - E4-telemetry-foundation
obsidian-link: "[[E5-A9 Auditoria e telemetria de chat]]"
---

# E5-A9 · Auditoria e telemetria de chat

## Descrição técnica
- Estender `TelemetryService` para aceitar eventos específicos de chat (`conversation_opened`, `message_sent`, `summary_requested`).
- Instrumentar `ChatStore` e componentes para disparar eventos com payload anonimizado (sem conteúdo sensível).
- Sincronizar com backend via REST/SSE conforme disponível ou armazenar em buffer local com flush periódico.
- Implementar dashboards mínimos (feature flag) exibindo contadores em tempo real no painel admin.
- Criar testes unitários garantindo que eventos sejam disparados uma única vez por ação.

## Dependências
- `E5-A2` (store) e infraestrutura de telemetria do épico 4.

## Critérios de aceite
- Eventos aparecem na ferramenta configurada (Sentry/Otel) com metadados corretos.
- Conteúdo sensível não é enviado (apenas IDs/tamanhos).
- Documentação descreve como habilitar/validar métricas no ambiente dev.

## Checklist sugerido
- [ ] Atualizar serviço de telemetria com eventos de chat.
- [ ] Instrumentar store e componentes.
- [ ] Adicionar monitoramento opcional para admins.
- [ ] Escrever testes garantindo emissão única.
- [ ] Documentar processo de validação.
