---
id: E5-A1
epic: "Épico 5 — Chat Conversacional & Experiências Multimodais"
status: backlog
tags:
  - frontend
  - angular
  - chat
  - obsidian/backlog
dependencies:
  - E1-base-interceptors
obsidian-link: "[[E5-A1 Provisionar biblioteca chat-data-access]]"
---

# E5-A1 · Provisionar biblioteca `chat-data-access`

## Descrição técnica
- Gerar a biblioteca `libs/chat/data-access` com Nx (`nx g @nx/angular:library chat-data-access --directory=chat`).
- Implementar o serviço `ChatApiService` com `HttpClient`, métodos tipados `listConversations`, `createConversation`, `listMessages(conversationId)`, `sendMessage(payload)` e `summarizeConversation(id, target)`.
- Definir interfaces compartilhadas (`Conversation`, `Message`, `SummaryResult`) em `libs/chat/data-access/src/lib/models/` e exportar via `index.ts`.
- Reutilizar interceptores de autenticação existentes e garantir mapeamento de DTOs → modelos internos.
- Cobrir serialização e erros HTTP com testes unitários usando `HttpClientTestingModule` e `HttpTestingController`.

## Dependências
- Conclusão do épico 1 (interceptores, guarda de sessão).

## Critérios de aceite
- Serviço exposto a partir de `libs/chat/data-access` com métodos tipados e documentação inline.
- Testes unitários cobrindo sucesso/erros com cobertura mínima de 80% para o serviço.
- Export público disponível para consumo em `libs/state/chat` e `apps/platform`.

## Checklist sugerido
- [ ] Gerar biblioteca Nx.
- [ ] Definir modelos e DTOs.
- [ ] Implementar `ChatApiService` com métodos REST.
- [ ] Criar testes unitários para cada método.
- [ ] Atualizar `tsconfig.base.json` com path alias `@vectorseek/chat/data-access`.
