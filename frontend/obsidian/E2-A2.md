---
id: E2-A2
epic: "Épico 2 — Q&A & Base de Conhecimento"
status: backlog
tags:
  - frontend
  - angular
  - qna
  - obsidian/backlog
dependencies:
  - E2-A1
obsidian-link: "[[E2-A2 Implementar UI de citações expandíveis]]"
---

# E2-A2 · Implementar UI de citações expandíveis

## Descrição técnica
- Construir `CitationListComponent` com `MatAccordion` exibindo snippet, score e link para documento fonte.
- Adicionar destaque de termos usando pipe customizado `HighlightTermsPipe` com `DomSanitizer` seguro.
- Incluir ação "Copiar resposta" com serviço `Clipboard` e toast `MatSnackBar` traduzido.
- Suportar carregamento incremental de citações usando `cdk-virtual-scroll-viewport` para grandes listas.
- Garantir acessibilidade com atributos ARIA, foco gerenciável por teclado e testes com `@testing-library/angular`.

## Dependências
- [[E2-A1 Provisionar módulo Q&A]].

## Critérios de aceite
- Lista apresenta citações colapsadas por padrão com botão de expandir.
- Destaques preservam marcação original e evitam XSS.
- Ação de copiar confirma sucesso/erro com feedback visual.

## Checklist sugerido
- [ ] Criar componente de citações e pipe de destaque.
- [ ] Implementar acessibilidade (ARIA, foco).
- [ ] Integrar serviço de cópia e snackbar.
- [ ] Adicionar testes de renderização e acessibilidade.
- [ ] Documentar no Storybook com controles de termos e citações.
